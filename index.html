<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tienda Celulares</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/scrollreveal"></script>
  <script src="https://kit.fontawesome.com/a2d9c5e6cc.js" crossorigin="anonymous"></script>
  <style>
    html { scroll-behavior: smooth; }
    body { background-color: black; color: white; font-family: 'Poppins', sans-serif; }
    .btn-anim { transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
    .btn-anim:hover { transform: scale(1.05); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); }
    .btn-anim:active { transform: scale(0.95); }
    .card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); overflow: hidden; }
    .card:hover { transform: translateY(-10px) scale(1.02); box-shadow: 0 15px 30px rgba(220, 38, 38, 0.3); }
    .fade-in { animation: fadeIn 0.8s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .img-hover { transition: transform 0.5s, filter 0.5s; }
    .img-hover:hover { transform: scale(1.05); filter: brightness(1.1); }
    .filter-active { background-color: #dc2626 !important; box-shadow: 0 0 15px rgba(220, 38, 38, 0.5); }
    .social-btn { transition: all 0.3s ease; display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 50%; margin: 0 5px; }
    .social-btn:hover { transform: translateY(-3px); }
    .facebook { background-color: #3b5998; }
    .instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
    .tiktok { background-color: #000000; }
    .whatsapp { background-color: #25D366; }
  </style>
</head>

<body class="antialiased">

  <!-- HEADER -->
  <header class="sticky top-0 z-50 bg-gradient-to-r from-red-800 via-black to-green-900 border-b border-red-700/50">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div onclick="window.scrollTo({top:0,behavior:'smooth'})" class="flex items-center gap-4 cursor-pointer">
        <div class="w-12 h-12 rounded-full bg-red-600 flex items-center justify-center font-bold text-lg shadow-lg hover:scale-110 transition-transform duration-300">TC</div>
        <div>
          <h1 class="text-xl font-extrabold tracking-tight">Tienda Celulares</h1>
          <p class="text-xs text-gray-300">Compra fácil vía WhatsApp</p>
        </div>
      </div>
      <nav class="hidden md:flex gap-3">
        <button onclick="filterBrand('Todos')" id="filter-todos" class="px-3 py-2 rounded-md bg-red-600/80 text-sm font-medium filter-active">Todos</button>
        <button onclick="filterBrand('Samsung')" id="filter-samsung" class="px-3 py-2 rounded-md hover:bg-white/10 text-sm">Samsung</button>
        <button onclick="filterBrand('Apple')" id="filter-apple" class="px-3 py-2 rounded-md hover:bg-white/10 text-sm">Apple</button>
        <button onclick="filterBrand('Xiaomi')" id="filter-xiaomi" class="px-3 py-2 rounded-md hover:bg-white/10 text-sm">Xiaomi</button>
      </nav>
      <div class="flex items-center gap-3">
        <input id="searchInput" onkeyup="filterProducts()" placeholder="Buscar..." class="hidden sm:inline-block bg-white/10 px-3 py-2 rounded-md text-sm outline-none focus:ring-2 focus:ring-green-400 transition-all duration-300">
        <button onclick="document.getElementById('productos').scrollIntoView({behavior:'smooth'})" class="px-3 py-2 rounded-md bg-red-500 btn-anim">Ver productos</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="bg-[url('https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&w=1200&q=60')] bg-cover bg-center">
    <div class="backdrop-brightness-50 py-20 text-center">
      <h2 class="text-4xl sm:text-5xl font-extrabold fade-in">Los mejores celulares al alcance</h2>
      <p class="mt-4 text-gray-200 max-w-xl mx-auto fade-in">Precios transparentes, pago y contacto directo por WhatsApp. Ofertas semanales y envío a todo el país.</p>
      <div class="mt-6 flex flex-col sm:flex-row gap-3 justify-center">
        <a href="#productos" class="px-6 py-3 rounded-full bg-green-500 font-semibold shadow-lg btn-anim">Ver catálogo</a>
        <a href="#ofertas" class="px-6 py-3 rounded-full border border-white/20 btn-anim">Ofertas</a>
      </div>

      <!-- Redes sociales -->
      <div class="mt-8 flex justify-center gap-4">
        <a href="https://facebook.com/tu_tienda" target="_blank" class="social-btn facebook"><i class="fab fa-facebook-f text-white"></i></a>
        <a href="https://instagram.com/tu_tienda" target="_blank" class="social-btn instagram"><i class="fab fa-instagram text-white"></i></a>
        <a href="https://tiktok.com/@tu_tienda" target="_blank" class="social-btn tiktok"><i class="fab fa-tiktok text-white"></i></a>
        <a href="https://wa.me/593999111222" target="_blank" class="social-btn whatsapp"><i class="fab fa-whatsapp text-white"></i></a>
      </div>
    </div>
  </section>

  <!-- OFERTAS -->
  <section id="ofertas" class="max-w-6xl mx-auto px-4 py-8">
    <h3 class="text-2xl font-bold text-red-400 fade-in">Ofertas destacadas</h3>
    <div id="offersContainer" class="mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
  </section>

  <!-- PRODUCTOS -->
  <main id="productos" class="max-w-6xl mx-auto px-4 py-8">
    <div class="flex flex-col sm:flex-row justify-between items-center gap-2">
      <h2 class="text-2xl font-bold fade-in">Catálogo</h2>
      <label class="flex items-center gap-2 text-sm fade-in">
        <input type="checkbox" id="showOffersOnly" onchange="renderProducts()"> Solo ofertas
      </label>
    </div>
    <div id="productsContainer" class="mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </main>

  <!-- FOOTER -->
  <footer class="mt-12 bg-gradient-to-t from-black to-transparent border-t border-red-900/20">
    <div class="max-w-6xl mx-auto px-4 py-8 text-sm flex flex-col md:flex-row justify-between items-center gap-4">
      <div class="text-center md:text-left">
        <div class="font-bold text-white text-lg">Tienda Celulares</div>
        <div>Contacto: <a href="mailto:ventas@tiendacelulares.example" class="underline">ventas@tiendacelulares.example</a></div>
      </div>
      <div class="text-center md:text-right text-gray-300">
        <div>© <span id="year"></span> Tienda Celulares</div>
      </div>
    </div>
  </footer>

  <!-- SCRIPT -->
  <script>
  let PRODUCTS = [];
  let selectedBrand = "Todos";

  async function loadProducts() {
    const response = await fetch("productos.csv");
    const data = await response.text();
    const rows = data.split("\n").slice(1);

    PRODUCTS = rows.map(row => {
      const [id, brand, model, price, image, features, whatsapp, offer, category] = row.split(",");
      if (!brand) return null;
      return {
        id: parseInt(id),
        brand: brand.trim(),
        model: model.trim(),
        price: parseFloat(price),
        image: image.trim(),
        features: features.split(";").map(f => f.trim()),
        whatsapp: whatsapp.trim(),
        offer: offer.trim().toLowerCase() === "true",
        category: category.trim()
      };
    }).filter(Boolean);

    renderOffers();
    renderProducts();
  }

  function renderProducts() {
    const container = document.getElementById("productsContainer");
    const showOffers = document.getElementById("showOffersOnly").checked;
    const query = document.getElementById("searchInput").value?.toLowerCase() || "";
    container.innerHTML = "";

    const filtered = PRODUCTS.filter(p =>
      (selectedBrand === "Todos" || p.brand === selectedBrand) &&
      (!showOffers || p.offer) &&
      (!query || p.brand.toLowerCase().includes(query) || p.model.toLowerCase().includes(query))
    );

    if (filtered.length === 0) {
      container.innerHTML = `<div class='col-span-full text-center py-10 text-gray-400'>No se encontraron productos</div>`;
      return;
    }

    filtered.forEach(p => {
      const card = document.createElement("div");
      card.className = "card bg-white bg-opacity-5 rounded-xl overflow-hidden border border-gray-800 shadow-lg fade-in";
      card.innerHTML = `
        <div class="relative">
          <img src="${p.image}" alt="${p.brand} ${p.model}" class="w-full h-56 object-cover img-hover">
          ${p.offer ? `<span class='absolute top-3 left-3 bg-red-600 px-2 py-1 rounded text-xs font-bold animate-pulse'>OFERTA</span>` : ""}
        </div>
        <div class="p-4">
          <h3 class="text-lg font-semibold">${p.brand} ${p.model}</h3>
          <p class="text-sm text-gray-300">${p.features.join(" • ")}</p>
          <div class="mt-2 flex justify-between items-center">
            <div class="text-xl font-bold">$${p.price}</div>
          </div>
          <div class="mt-4">
            <a href="https://wa.me/${p.whatsapp}?text=Hola!%20Quiero%20comprar%20el%20${p.brand}%20${p.model}" target="_blank" class="w-full text-center py-2 rounded-md bg-green-600 text-black font-semibold btn-anim block">Comprar</a>
          </div>
        </div>`;
      container.appendChild(card);
    });
    ScrollReveal().reveal('.card', { interval: 100, distance: '20px', origin: 'bottom', reset: true });
  }

  function renderOffers() {
    const container = document.getElementById("offersContainer");
    container.innerHTML = "";
    const offers = PRODUCTS.filter(p => p.offer);
    offers.forEach(p => {
      container.innerHTML += `
        <div class="p-4 bg-white bg-opacity-5 rounded-lg border border-red-700/30 card fade-in">
          <div class="flex flex-col sm:flex-row gap-4 items-center">
            <img src="${p.image}" class="w-full sm:w-28 h-40 sm:h-20 object-cover rounded-md img-hover" alt="${p.brand} ${p.model}">
            <div class="text-center sm:text-left flex-1">
              <div class="font-semibold">${p.brand} ${p.model}</div>
              <div class="text-sm text-gray-300">${p.features.join(" • ")}</div>
              <div class="text-xs mt-1 text-blue-400">${p.category}</div>
            </div>
            <div class="ml-auto text-center sm:text-right">
              <div class="text-lg font-bold">$${p.price}</div>
              <a href="https://wa.me/${p.whatsapp}?text=Hola!%20Estoy%20interesado%20en%20el%20${p.brand}%20${p.model}" target="_blank" class="mt-2 inline-block px-3 py-1 rounded-md bg-green-600 text-black font-medium btn-anim">Comprar</a>
            </div>
          </div>
        </div>`;
    });
    ScrollReveal().reveal('.card', { interval: 100 });
  }

  function filterBrand(b) {
    selectedBrand = b;
    document.querySelectorAll("nav button").forEach(btn => btn.classList.remove("filter-active"));
    document.getElementById(`filter-${b.toLowerCase()}`).classList.add("filter-active");
    renderProducts();
  }

  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("year").textContent = new Date().getFullYear();
    loadProducts();
  });
  </script>
</body>
</html>

